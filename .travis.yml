language: cpp

matrix: 
 include: 
 - name: "GCC7"
   os: linux
   dist: xenial
   env:
     - MATRIX_EVAL="CC=gcc-7 && CXX=g++-7"
   before_install:
     - eval "${MATRIX_EVAL}"
     - sudo add-apt-repository ppa:ubuntu-toolchain-r/test -y
     - sudo apt-get update -q
     - sudo apt-get install -y g++-7
     - sudo apt-get install -y cmake
     - sudo apt-get install -y libpthread-stubs0-dev
     - sudo apt-get install -y libboost-system-dev
     - sudo apt-get install -y libcurl4-openssl-dev
     - sudo apt-get install -y libtidy5 libtidy-dev
     - sudo apt-get install -y liburiparser-dev
     - sudo apt-get install -y libpugixml-dev
     - sudo apt-get install -y libpcre2-dev
     - sudo apt-get install -y libmysqlcppconn-dev
     - sudo apt-get install -y libaspell-dev
 - name: "clang7"
   os: linux
   dist: xenial
   env: 
     - MATRIX_EVAL="CC=clang && CXX=clang++"
   before_install:
     - eval "${MATRIX_EVAL}"
     - sudo add-apt-repository ppa:ubuntu-toolchain-r/test -y
     - sudo apt-get update -q
     - sudo apt-get install -y cmake
     - sudo apt-get install -y libpthread-stubs0-dev
     - sudo apt-get install -y libboost-system-dev
     - sudo apt-get install -y libcurl4-openssl-dev
     - sudo apt-get install -y libtidy5 libtidy-dev
     - sudo apt-get install -y liburiparser-dev
     - sudo apt-get install -y libpugixml-dev
     - sudo apt-get install -y libpcre2-dev
     - sudo apt-get install -y libmysqlcppconn-dev
     - sudo apt-get install -y libaspell-dev
script:
- cd crawlserv
- mkdir build
- cd build
- cmake ..
- make
