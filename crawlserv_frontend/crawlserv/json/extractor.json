{
	"#include": [ "include/network.json" ],
	
	"general": {
		"label": "General",
		"open": true,
		
		"cache.size": {
			"type": "number",
			"default": 2500,
			"min": 0,
			"label": "Cache size:",
			"description": "Number of URLs fetched and extracted from before saving results (0=infinite).",
			"simple": true,
			"position": 2
		},
		"extract.custom": {
			"type": "bool",
			"default": false,
			"label": "Extract from custom URLs",
			"description": "Include custom URLs when extracting.",
			"simple": true,
			"position": 4
		},
		"lock": {
			"type": "number",
			"default": 300,
			"min": 1,
			"description": "URL locking time (in s).",
			"simple": false
		},
		"logging": {
			"type": "enum",
			"default": 1,
			"enum-values": [
				"silent",
				"default",
				"extended",
				"verbose"
			],
			"label": "Logging mode:",
			"description": "Level of logging activity.",
			"simple": true,
			"position": 5
		},
		"minimize.memory": {
			"type": "bool",
			"default": false,
			"description": "Free a small amount of unused memory more often at the expense of performance.",
			"simple": false
		},
		"reextract": {
			"type": "bool",
			"default": false,
			"label": "Re-extract data",
			"description": "Re-extract data from already processed URLs.",
			"simple": true,
			"position": 3
		},
		"result.table": {
			"type": "string",
			"default": "",
			"label": "Result table:",
			"description": "Table name to save extracted data to.",
			"simple": true,
			"position": 1
		},
		"retries": {
			"type": "number",
			"default": 720,
			"min": -1,
			"label": "Connection retries:",
			"description": "Number of re-tries on connection errors (-1=infinite).",
			"simple": true,
			"position": 6
		},
		"retry.http": {
			"type": "array",
			"item-type": "number",
			"default": [ 502, 503, 504 ],
			"min": 400,
			"max": 599,
			"description": "HTTP errors that will be handled like connection errors.",
			"simple": false
		},
		"sleep.error": {
			"type": "number",
			"default": 10000,
			"min": 0,
			"description": "Sleeping time (in ms) on connection errors.",
			"simple": false
		},
		"sleep.http": {
			"type": "number",
			"default": 0,
			"min": 0,
			"description": "Time (in ms) that will be waited between HTTP requests.",
			"simple": false
		},
		"sleep.idle": {
			"type": "number",
			"default": 5000,
			"min": 100,
			"description": "Time (in ms) to wait before checking for new URLs when all URLs have been processed.",
			"simple": false
		},
		"sleep.mysql": {
			"type": "number",
			"default": 10,
			"min": 1,
			"description": "Time (in s) to wait before last try to re-connect to mySQL server.",
			"simple": false
		},
		"tidy.errors": {
			"type": "number",
			"min": 0,
			"default": 0,
			"description": "Number  of tidyhtml errors to log (if logging is enabled).",
			"simple": false
		},
		"tidy.warnings": {
			"type": "bool",
			"default": false,
			"description": "Log tidyhtml warnings (if logging is enabled).",
			"simple": false
		},
		"timing": {
			"type": "bool",
			"default": false,
			"description": "Calculate timing statistics.",
			"simple": false
		}
	},
	"variables": {
		"label": "Variables",
		"open": true,
		
		"alias": {
			"type": "array",
			"item-type": "string",
			"default": [],
			"label": "Variable aliases:",
			"description": "Alias for the variable with same array index.",
			"simple": true,
			"position": 8
		},
		"alias.add": {
			"type": "array",
			"item-type": "number",
			"default": [],
			"label": "Increase alias value by:",
			"description": "Value to add to the variable alias with the same array index.",
			"simple": true,
			"position": 9
		},
		"datetime.format": {
			"type": "array",
			"item-type": "string",
			"default": [],
			"label": "Date/time formats:",
			"description": "Date and time format to be used for the variable with the same array index (default: '%F %T', see 'to_stream formatting' in Howard E. Hinnant's C++ date.h library documentation for details).",
			"simple": true,
			"position": 6
		},
		"datetime.locale": {
			"type": "array",
			"item-type": "locale",
			"default": [],
			"label": "Date/time locales:",
			"description": "Date and time locale to be used for the variable with the same array index.",
			"simple": true,
			"position": 7
		},
		"name": {
			"type": "array",
			"item-type": "string",
			"default": [],
			"label": "Variable names:",
			"description": "Variable names to be replaced in 'source.url', 'source.cookies' and 'source.headers'.",
			"simple": true,
			"position": 1
		},
		"parsed.column": {
			"type": "array",
			"item-type": "string",
			"default": [],
			"label": "Parsed column:",
			"description": "Parsed 'id', 'datetime' or field for the variable with the same array index (if parsed data is the source).",
			"simple": true,
			"position": 5
		},
		"parsed.table": {
			"type": "array",
			"item-type": "string",
			"default": [],
			"label": "Parsing table:",
			"description": "Name of the table containing the parsed data for the variable with the same array index (if parsed data is the source).",
			"simple": true,
			"position": 4
		},
		"query": {
			"type": "array",
			"item-type": "query",
			"query-results": [
				"bool",
				"single"
			],
			"default": [],
			"label": "Variable queries:",
			"description": "Query on content or URL for the variable with the same array index.",
			"simple": true,
			"position": 3
		},
		"source": {
			"type": "array",
			"item-type": "enum",
			"enum-values": [
				"parsed",
				"content",
				"URL"
			],
			"default": [],
			"label": "Variable sources:",
			"description": "Source of the variable with the same array index.",
			"simple": true,
			"position": 2
		},
		"tokens": {
			"type": "array",
			"item-type": "string",
			"default": [],
			"label": "Token variables:",
			"description": "List of token variables to be replaced in 'source.url', 'source.cookies' and 'source.headers'.",
			"simple": true,
			"position": 10
		},
		"tokens.cookies": {
			"type": "array",
			"item-type": "string",
			"default": [],
			"label": "Token cookies:",
			"description": "Custom cookies header for the token with the same array index.",
			"simple": true,
			"position": 12
		},
		"tokens.query": {
			"type": "array",
			"item-type": "query",
			"query-results": [
				"bool",
				"single"
			],
			"default": [],
			"label": "Token queries:",
			"description": "Query to extract token variable with the same array index.",
			"simple": true,
			"position": 14
		},
		"tokens.source": {
			"type": "array",
			"item-type": "string",
			"default": [],
			"label": "Token sources:",
			"description": "Source URL for the token with the same array index (absolute link without protocol).",
			"simple": true,
			"position": 11
		},
		"tokens.use.post": {
			"type": "array",
			"item-type": "bool",
			"default": [],
			"label": "Use POST for tokens:",
			"description": "Use HTTP POST instead of GET for the token with the same array index.",
			"simple": true,
			"position": 13
		},
		"token.headers": {
			"type": "array",
			"item-type": "string",
			"default": [],
			"description": "Custom headers to be used for ALL tokens.",
			"simple": false
		}
	},
	"paging": {
		"label": "Paging",
		"open": false,
		
		"alias": {
			"type": "string",
			"default": "",
			"label": "Paging variable alias:",
			"description": "Alias for the paging variable.",
			"simple": true,
			"position": 5 
		},
		"alias.add": {
			"type": "number",
			"default": 0,
			"label": "Increase alias value by:",
			"description": "Value to add to the alias of the paging variable.",
			"simple": true,
			"position": 6
		},
		"first": {
			"type": "number",
			"default": 0,
			"label": "First page (number):",
			"description": "Number of the first page.",
			"simple": true,
			"position": 2
		},
		"first.string": {
			"type": "string",
			"default": "",
			"label": "First page (string):",
			"description": "Name of the first page (will overwrite 'first' and 'step').",
			"simple": true,
			"position": 3
		},
		"is.next.from": {
			"type": "query",
			"query-results": [
				"bool"
			],
			"default": 0,
			"label": "Does next page exist?",
			"description": "Query on page content to determine whether there is another page.",
			"simple": true,
			"position": 7
		},
		"next.from": {
			"type": "query",
			"query-results": [
				"single"
			],
			"default": 0,
			"label": "Get next page:",
			"description": "Query on page content to find the number or the name of the next page (will overwrite 'step').",
			"simple": true,
			"position": 9
		},
		"number.from": {
			"type": "query",
			"query-results": [
				"single"
			],
			"default": 0,
			"label": "Get number of pages:",
			"description": "Query on first page to determine the total number of pages (will overwrite 'is.next.from').",
			"simple": true,
			"position": 8
		},
		"step": {
			"type": "number",
			"default": 1,
			"label": "Paging step:",
			"description": "Number to add to page variable for getting the next page (if page number is used).",
			"simple": true,
			"position": 4
		},
		"variable": {
			"type": "string",
			"default": "$p",
			"label": "Paging variable:",
			"description": "Paging variable to be used in 'source.url', 'source.cookies' and 'source.headers'. Will be overwritten with either page number or page name.",
			"simple": true,
			"position": 1
		}
	},
	"source": {
		"label": "Source",
		"open": true,
		
		"cookies": {
			"type": "string",
			"default": "",
			"label": "Cookies:",
			"description": "Cookie header for getting data.",
			"simple": true,
			"position": 3
		},
		"headers": {
			"type": "array",
			"default": [],
			"item-type": "string",
			"label": "HTTP headers:",
			"description": "Custom HTTP headers for getting data.",
			"simple": true,
			"position": 4
		},
		"url": {
			"type": "string",
			"default": "",
			"label": "URL:",
			"description": "URL to get data from (absolute link without protocol).",
			"simple": true,
			"position": 1
		},
		"url.first": {
			"type": "string",
			"default": "",
			"label": "URL (first page):",
			"description": "URL of the first page to get data from (absolute link without protocol, will be ignored if empty).",
			"simple": true,
			"position": 2
		},
		"use.post": {
			"type": "bool",
			"default": false,
			"label": "Use HTTP POST",
			"description": "Use HTTP POST instead of GET for extracting data.",
			"simple": true,
			"position": 5
		}
	},
	"extracting": {
		"label": "Extracting",
		"open": true,
		
		"dataset.queries": {
			"type": "array",
			"item-type": "query",
			"query-results": [
				"subsets"
			],
			"default": [],
			"label": "Dataset queries:",
			"description": "Queries to extract datasets. The first query that returns a non-empty result will be used.",
			"simple": true,
			"position": 1
		},
		"datetime.formats": {
			"type": "array",
			"item-type": "string",
			"default": [],
			"label": "Date/time formats:",
			"description": "Format of date and time to be extracted by the query with the same array index (default: '%F %T', see 'to_stream formatting' in Howard E. Hinnant's C++ date.h library documentation for details).",
			"simple": true,
			"position": 4
		},
		"datetime.locales": {
			"type": "array",
			"item-type": "locale",
			"default": [],
			"label": "Date/time locales:",
			"description": "Locale used by the query with the same array index for extracting date and time.",
			"simple": true,
			"position": 5
		},
		"datetime.queries": {
			"type": "array",
			"item-type": "query",
			"query-results": [
				"single"
			],
			"default": [],
			"label": "Date/time queries:",
			"description": "Queries used for extracting date/time from the dataset. The first query that returns a non-empty result will be used.",
			"simple": true,
			"position": 3
		},
		"field.datetime.formats": {
			"type": "array",
			"item-type": "string",
			"default": [],
			"description": "Date/time format of the field with the same array index (default: empty, i.e. no date/time conversion, see 'to_stream formatting' in Howard E. Hinnant's C++ date.h library documentation for details).",
			"simple": false
		},
		"field.datetime.locales": {
			"type": "array",
			"item-type": "locale",
			"default": [],
			"description": "Locale used when converting the field with the same array index to a date/time (ignored if no date/time format has been specified for the field).",
			"simple": false
		},
		"field.delimiters": {
			"type": "array",
			"item-type": "string",
			"default": [],
			"description": "Delimiter between multiple results for the field with the same array index if not saved as JSON. Only the first character, \\n (default), \\t or \\\\ will be used.",
			"simple": false
		},
		"field.ignore.empty": {
			"type": "array",
			"item-type": "bool",
			"default": [],
			"description": "Ignore empty values when parsing multiple results for the field with the same array index (default).",
			"simple": false
		},
		"field.json": {
			"type": "array",
			"item-type": "bool",
			"default": [],
			"label": "Field results as JSON:",
			"description": "Save the value of the field with the same array index as a JSON array.",
			"simple": true,
			"position": 10
		},
		"field.names": {
			"type": "array",
			"item-type": "string",
			"default": [],
			"label": "Field names:",
			"description": "The names of the custom fields to extract.",
			"simple": true,
			"position": 6
		},
		"field.queries": {
			"type": "array",
			"item-type": "query",
			"query-results": [
				"single"
			],
			"default": [],
			"label": "Field queries:",
			"description": "The query used to extract the custom field with the same array index from the dataset.",
			"simple": true,
			"position": 7
		},
		"field.tidy.texts": {
			"type": "array",
			"item-type": "bool",
			"default": [],
			"label": "Field results as tidied texts:",
			"description": "Remove line breaks and unnecessary spaces when extracting the field with the same array index.",
			"simple": true,
			"position": 8
		},
		"field.warnings.empty": {
			"type": "array",
			"item-type": "bool",
			"default": [],
			"description": "Log warning when the field with the same array index is empty (and logging is enabled).",
			"simple": false
		},
		"id.ignore": {
			"type": "array",
			"item-type": "string",
			"default": [],
			"description": "Extracted IDs to be ignored.",
			"simple": false
		},
		"id.queries": {
			"type": "array",
			"item-type": "query",
			"query-results": [
				"single"
			],
			"default": [],
			"label": "ID queries:",
			"description": "Queries to extract the ID from the dataset. The first query that returns a non-empty result will be used. Datasets with duplicate or empty IDs will not be extracted.",
			"simple": true,
			"position": 2
		},
		"overwrite": {
			"type": "bool",
			"default": true,
			"label": "Overwrite existing data",
			"description": "If a dataset with the same ID already exists, it will be overwritten.",
			"simple": true,
			"position": 9
		},
		"recursive": {
			"type": "array",
			"item-type": "query",
			"query-results": [
				"subsets"
			],
			"default": [],
			"label": "Recursive extracting:",
			"description": "Queries for extracting more datasets from a dataset. The first query that returns a non-empty result will be used.",
			"simple": true,
			"position": 11
		},
		"recursive.max.depth": {
			"type": "number",
			"min": 0,
			"default": 100,
			"label": "Max. depth of recursion:",
			"description": "Maximum depth of recursive extracting.",
			"simple": true,
			"position": 12
		},
		"repair.cdata": {
			"type": "bool",
			"default": true,
			"description": "Try to repair CData when parsing HTML/XML.",
			"simple": false
		}
	},
	"expected": {
		"label": "Expected Result",
		"open": false,

		"error.if.larger": {
			"type": "bool",
			"default": false,
			"description": "Cause fatal error when number of expected datasets is exceeded.",
			"simple": false
		},
		"error.if.smaller": {
			"type": "bool",
			"default": false,
			"description": "Cause fatal error when number of expected datasets is exceeded.",
			"simple": false
		},
		"parsed.column": {
			"type": "string",
			"default": "",
			"label": "Parsed column:",
			"description": "Parsed 'id', 'datetime' or field containing the expected number of datasets (if parsed data is the source).",
			"simple": true,
			"position": 4
		},
		"parsed.table": {
			"type": "string",
			"default": "",
			"label": "Parsing table:",
			"description": "Name of the result table containing the expected number of datasets (if parsed data is the source).",
			"simple": true,
			"position": 3
		},
		"query": {
			"type": "query",
			"query-results": [
				"single"
			],
			"default": 0,
			"label": "Query for no. of results:",
			"description": "Query to be performed on content to get the expected number of datasets.",
			"simple": true,
			"position": 2
		},
		"source": {
			"type": "enum",
			"enum-values": [
				"Extracted content (first page)",
				"Parsed data",
				"Raw crawled data"
			],
			"default": 0,
			"label": "Source:",
			"description": "Source of the expected number of datasets.",
			"simple": true,
			"position": 1
		}
	}
}
