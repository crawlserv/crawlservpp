<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>crawlserv++: crawlservpp::Main::WebServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">crawlserv++
   &#160;<span id="projectnumber">[under development]</span>
   </div>
   <div id="projectbrief">Application for crawling and analyzing textual content of websites.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classcrawlservpp_1_1Main_1_1WebServer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="classcrawlservpp_1_1Main_1_1WebServer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">crawlservpp::Main::WebServer Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Embedded web server class using the <code>mongoose</code> library.  
 <a href="classcrawlservpp_1_1Main_1_1WebServer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="WebServer_8hpp_source.html">WebServer.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer_1_1Exception.html">Exception</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class for web server exceptions.  <a href="classcrawlservpp_1_1Main_1_1WebServer_1_1Exception.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Construction and Destruction</h2></td></tr>
<tr class="memitem:a1931cdad60287f9bed2b214b299aba3c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#a1931cdad60287f9bed2b214b299aba3c">WebServer</a> (std::string_view fileCacheDirectory)</td></tr>
<tr class="memdesc:a1931cdad60287f9bed2b214b299aba3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor setting the file cache and initializing the web server.  <a href="classcrawlservpp_1_1Main_1_1WebServer.html#a1931cdad60287f9bed2b214b299aba3c">More...</a><br /></td></tr>
<tr class="separator:a1931cdad60287f9bed2b214b299aba3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2a2fa8d57422582b68d577b4dbc59ed"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#ac2a2fa8d57422582b68d577b4dbc59ed">~WebServer</a> ()</td></tr>
<tr class="memdesc:ac2a2fa8d57422582b68d577b4dbc59ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor freeing the web server.  <a href="classcrawlservpp_1_1Main_1_1WebServer.html#ac2a2fa8d57422582b68d577b4dbc59ed">More...</a><br /></td></tr>
<tr class="separator:ac2a2fa8d57422582b68d577b4dbc59ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
@name Initialization</h2></td></tr>
<tr class="memitem:a15db258b25ba7720809a1a3a3fcd9fe6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#a15db258b25ba7720809a1a3a3fcd9fe6">initHTTP</a> (const std::string &amp;port)</td></tr>
<tr class="memdesc:a15db258b25ba7720809a1a3a3fcd9fe6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the web server for usage over HTTP.  <a href="classcrawlservpp_1_1Main_1_1WebServer.html#a15db258b25ba7720809a1a3a3fcd9fe6">More...</a><br /></td></tr>
<tr class="separator:a15db258b25ba7720809a1a3a3fcd9fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Setters</h2></td></tr>
<tr class="memitem:a1d728ac889e139a41bd6e0daca90aa0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#a1d728ac889e139a41bd6e0daca90aa0d">setCORS</a> (const std::string &amp;allowed)</td></tr>
<tr class="memdesc:a1d728ac889e139a41bd6e0daca90aa0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures cross-origin resource sharing (CORS).  <a href="classcrawlservpp_1_1Main_1_1WebServer.html#a1d728ac889e139a41bd6e0daca90aa0d">More...</a><br /></td></tr>
<tr class="separator:a1d728ac889e139a41bd6e0daca90aa0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85e49d23d493477803d2d3bba14d069b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#a85e49d23d493477803d2d3bba14d069b">setAcceptCallback</a> (AcceptCallback callback)</td></tr>
<tr class="memdesc:a85e49d23d493477803d2d3bba14d069b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets callback function for accepted connections.  <a href="classcrawlservpp_1_1Main_1_1WebServer.html#a85e49d23d493477803d2d3bba14d069b">More...</a><br /></td></tr>
<tr class="separator:a85e49d23d493477803d2d3bba14d069b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5427dca40be181ba4015d60aa39f1008"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#a5427dca40be181ba4015d60aa39f1008">setRequestCallback</a> (RequestCallback callback)</td></tr>
<tr class="memdesc:a5427dca40be181ba4015d60aa39f1008"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets callback function for HTTP requests.  <a href="classcrawlservpp_1_1Main_1_1WebServer.html#a5427dca40be181ba4015d60aa39f1008">More...</a><br /></td></tr>
<tr class="separator:a5427dca40be181ba4015d60aa39f1008"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Networking</h2></td></tr>
<tr class="memitem:ad44fe90838b495f08a30b7e42cac1453"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#ad44fe90838b495f08a30b7e42cac1453">poll</a> (int timeOut)</td></tr>
<tr class="memdesc:ad44fe90838b495f08a30b7e42cac1453"><td class="mdescLeft">&#160;</td><td class="mdescRight">Polls the web server.  <a href="classcrawlservpp_1_1Main_1_1WebServer.html#ad44fe90838b495f08a30b7e42cac1453">More...</a><br /></td></tr>
<tr class="separator:ad44fe90838b495f08a30b7e42cac1453"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56bfc1bc028e580ab7f5de68676752af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#a56bfc1bc028e580ab7f5de68676752af">send</a> (ConnectionPtr connection, uint16_t code, const std::string &amp;type, const std::string &amp;content)</td></tr>
<tr class="memdesc:a56bfc1bc028e580ab7f5de68676752af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a HTTP reply to a previously established connection.  <a href="classcrawlservpp_1_1Main_1_1WebServer.html#a56bfc1bc028e580ab7f5de68676752af">More...</a><br /></td></tr>
<tr class="separator:a56bfc1bc028e580ab7f5de68676752af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afabc450736089f2fb2d19f186271a679"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#afabc450736089f2fb2d19f186271a679">sendFile</a> (ConnectionPtr connection, const std::string &amp;fileName, void *data)</td></tr>
<tr class="memdesc:afabc450736089f2fb2d19f186271a679"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a file located in the file cache.  <a href="classcrawlservpp_1_1Main_1_1WebServer.html#afabc450736089f2fb2d19f186271a679">More...</a><br /></td></tr>
<tr class="separator:afabc450736089f2fb2d19f186271a679"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb36c175bc059820a761425d78614948"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#afb36c175bc059820a761425d78614948">sendError</a> (ConnectionPtr connection, const std::string &amp;error)</td></tr>
<tr class="memdesc:afb36c175bc059820a761425d78614948"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends an internal server error (HTTP code 500) with a custom message and closes the connection.  <a href="classcrawlservpp_1_1Main_1_1WebServer.html#afb36c175bc059820a761425d78614948">More...</a><br /></td></tr>
<tr class="separator:afb36c175bc059820a761425d78614948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ec107a18feda94b523688ed52dfd9c8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#a6ec107a18feda94b523688ed52dfd9c8">close</a> (ConnectionPtr connection)</td></tr>
<tr class="memdesc:a6ec107a18feda94b523688ed52dfd9c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes a connection immediately.  <a href="classcrawlservpp_1_1Main_1_1WebServer.html#a6ec107a18feda94b523688ed52dfd9c8">More...</a><br /></td></tr>
<tr class="separator:a6ec107a18feda94b523688ed52dfd9c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Static Helper</h2></td></tr>
<tr class="memitem:ada1a2c7ab936791701fa251c713404cc"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#ada1a2c7ab936791701fa251c713404cc">getIP</a> (ConnectionPtr connection)</td></tr>
<tr class="memdesc:ada1a2c7ab936791701fa251c713404cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static helper function retrieving the client IP from a connection.  <a href="classcrawlservpp_1_1Main_1_1WebServer.html#ada1a2c7ab936791701fa251c713404cc">More...</a><br /></td></tr>
<tr class="separator:ada1a2c7ab936791701fa251c713404cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Copy and Move</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp3d8dc2bf778f73f728ecb7a9aab19f93"></a>The class is neither copyable, nor movable. </p>
</td></tr>
<tr class="memitem:ad7d4d7f3054c7820f3f71a081aa037e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#ad7d4d7f3054c7820f3f71a081aa037e9">WebServer</a> (<a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html">WebServer</a> &amp;)=delete</td></tr>
<tr class="memdesc:ad7d4d7f3054c7820f3f71a081aa037e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted copy constructor.  <a href="classcrawlservpp_1_1Main_1_1WebServer.html#ad7d4d7f3054c7820f3f71a081aa037e9">More...</a><br /></td></tr>
<tr class="separator:ad7d4d7f3054c7820f3f71a081aa037e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33fd3ea53843df5a676715fec63e9981"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html">WebServer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#a33fd3ea53843df5a676715fec63e9981">operator=</a> (<a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html">WebServer</a> &amp;)=delete</td></tr>
<tr class="memdesc:a33fd3ea53843df5a676715fec63e9981"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted copy assignment operator.  <a href="classcrawlservpp_1_1Main_1_1WebServer.html#a33fd3ea53843df5a676715fec63e9981">More...</a><br /></td></tr>
<tr class="separator:a33fd3ea53843df5a676715fec63e9981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec71882e359dcf20ab88af987bcca2c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#afec71882e359dcf20ab88af987bcca2c">WebServer</a> (<a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html">WebServer</a> &amp;&amp;)=delete</td></tr>
<tr class="memdesc:afec71882e359dcf20ab88af987bcca2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted move constructor.  <a href="classcrawlservpp_1_1Main_1_1WebServer.html#afec71882e359dcf20ab88af987bcca2c">More...</a><br /></td></tr>
<tr class="separator:afec71882e359dcf20ab88af987bcca2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae52f478ab6fd9b352e0571eb58af152c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html">WebServer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#ae52f478ab6fd9b352e0571eb58af152c">operator=</a> (<a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html">WebServer</a> &amp;&amp;)=delete</td></tr>
<tr class="memdesc:ae52f478ab6fd9b352e0571eb58af152c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted move assignment operator.  <a href="classcrawlservpp_1_1Main_1_1WebServer.html#ae52f478ab6fd9b352e0571eb58af152c">More...</a><br /></td></tr>
<tr class="separator:ae52f478ab6fd9b352e0571eb58af152c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Embedded web server class using the <code>mongoose</code> library. </p>
<p>For more information about the <code>mongoose</code> library, see its <a href="https://github.com/cesanta/mongoose">GitHub repository</a>.</p>
<dl class="section warning"><dt>Warning</dt><dd>The web server does one final poll on destruction. When used inside classes, it should therefore declared last, i.e. destroyed first, in case it uses other member data when polled. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1931cdad60287f9bed2b214b299aba3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1931cdad60287f9bed2b214b299aba3c">&#9670;&nbsp;</a></span>WebServer() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">crawlservpp::Main::WebServer::WebServer </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>fileCacheDirectory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor setting the file cache and initializing the web server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileCacheDirectory</td><td>View of the directory in which to temporarily save files uploaded to the server. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac2a2fa8d57422582b68d577b4dbc59ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2a2fa8d57422582b68d577b4dbc59ed">&#9670;&nbsp;</a></span>~WebServer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">crawlservpp::Main::WebServer::~WebServer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor freeing the web server. </p>
<dl class="section warning"><dt>Warning</dt><dd>The web server does one final poll on destruction. When used inside classes, it should therefore declared last, i.e. destroyed first, in case it uses other member data when polled. </dd></dl>

</div>
</div>
<a id="ad7d4d7f3054c7820f3f71a081aa037e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7d4d7f3054c7820f3f71a081aa037e9">&#9670;&nbsp;</a></span>WebServer() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">crawlservpp::Main::WebServer::WebServer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html">WebServer</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deleted copy constructor. </p>

</div>
</div>
<a id="afec71882e359dcf20ab88af987bcca2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afec71882e359dcf20ab88af987bcca2c">&#9670;&nbsp;</a></span>WebServer() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">crawlservpp::Main::WebServer::WebServer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html">WebServer</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deleted move constructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6ec107a18feda94b523688ed52dfd9c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ec107a18feda94b523688ed52dfd9c8">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void crawlservpp::Main::WebServer::close </td>
          <td>(</td>
          <td class="paramtype">ConnectionPtr&#160;</td>
          <td class="paramname"><em>connection</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Closes a connection immediately. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>Pointer to the connection that will closed immediately.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">WebServer::Connection</td><td>if no connection has been specified, i.e. the pointer to the connection is <code>nullptr</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#afb36c175bc059820a761425d78614948">sendError()</a>.</p>

</div>
</div>
<a id="ada1a2c7ab936791701fa251c713404cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada1a2c7ab936791701fa251c713404cc">&#9670;&nbsp;</a></span>getIP()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string crawlservpp::Main::WebServer::getIP </td>
          <td>(</td>
          <td class="paramtype">ConnectionPtr&#160;</td>
          <td class="paramname"><em>connection</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Static helper function retrieving the client IP from a connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>Pointer to the connection from which to retrieve the IP address of the connected client.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The IP address of the connected client as string.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">WebServer::Connection</td><td>if no connection has been specified, i.e. the pointer to the connection is <code>nullptr</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a15db258b25ba7720809a1a3a3fcd9fe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15db258b25ba7720809a1a3a3fcd9fe6">&#9670;&nbsp;</a></span>initHTTP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void crawlservpp::Main::WebServer::initHTTP </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the web server for usage over HTTP. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>The HTTPS protocol is not supported yet. </dd></dl>
<p>Binds the web server to its port, sets user data and the protocol.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Constant reference to a string containing the port to be used by the web server.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer_1_1Exception.html" title="Class for web server exceptions.">WebServer::Exception</a></td><td>if the server could not be bound to the given port. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="classcrawlservpp_1_1Main_1_1Server.html#adf1826642551e128dec3e3ac2a17d7b5">crawlservpp::Main::Server::Server()</a>.</p>

</div>
</div>
<a id="ae52f478ab6fd9b352e0571eb58af152c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae52f478ab6fd9b352e0571eb58af152c">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html">WebServer</a>&amp; crawlservpp::Main::WebServer::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html">WebServer</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deleted move assignment operator. </p>

</div>
</div>
<a id="a33fd3ea53843df5a676715fec63e9981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33fd3ea53843df5a676715fec63e9981">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html">WebServer</a>&amp; crawlservpp::Main::WebServer::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html">WebServer</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deleted copy assignment operator. </p>

</div>
</div>
<a id="ad44fe90838b495f08a30b7e42cac1453"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad44fe90838b495f08a30b7e42cac1453">&#9670;&nbsp;</a></span>poll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void crawlservpp::Main::WebServer::poll </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeOut</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Polls the web server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeOut</td><td>The number of milliseconds after which polling the web server times out. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="classcrawlservpp_1_1Main_1_1Server.html#a59330d67a2f2edbfa8abca65229b8901">crawlservpp::Main::Server::tick()</a>.</p>

</div>
</div>
<a id="a56bfc1bc028e580ab7f5de68676752af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56bfc1bc028e580ab7f5de68676752af">&#9670;&nbsp;</a></span>send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void crawlservpp::Main::WebServer::send </td>
          <td>(</td>
          <td class="paramtype">ConnectionPtr&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>content</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a HTTP reply to a previously established connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>Pointer to the connection which will be used for sending the HTTP reply. </td></tr>
    <tr><td class="paramname">code</td><td>HTTP status code to be send at the beginning of the response. </td></tr>
    <tr><td class="paramname">type</td><td>Constant reference to a string containing the content type to be sent. </td></tr>
    <tr><td class="paramname">content</td><td>Constant reference to a string containing the content to be sent.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">WebServer::Connection</td><td>if no connection has been specified, i.e. the pointer to the connection is <code>nullptr</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afb36c175bc059820a761425d78614948"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb36c175bc059820a761425d78614948">&#9670;&nbsp;</a></span>sendError()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void crawlservpp::Main::WebServer::sendError </td>
          <td>(</td>
          <td class="paramtype">ConnectionPtr&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends an internal server error (HTTP code 500) with a custom message and closes the connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>Pointer to the connection which will be used for sending the error and which will closed afterwards. </td></tr>
    <tr><td class="paramname">error</td><td>Constant reference to a string containing the custom error message sent via the given connection before closing it.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">WebServer::Connection</td><td>if no connection has been specified, i.e. the pointer to the connection is <code>nullptr</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#a6ec107a18feda94b523688ed52dfd9c8">close()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#afabc450736089f2fb2d19f186271a679">sendFile()</a>.</p>

</div>
</div>
<a id="afabc450736089f2fb2d19f186271a679"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afabc450736089f2fb2d19f186271a679">&#9670;&nbsp;</a></span>sendFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void crawlservpp::Main::WebServer::sendFile </td>
          <td>(</td>
          <td class="paramtype">ConnectionPtr&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a file located in the file cache. </p>
<p>The file might be a relative path, but must be located in the file cache. If the path to the file is invalid, an internal server error (HTTP code 500) will be sent instead of the file.</p>
<p>Files can only be sent in response to a HTTP message received by the callback function set via setRequestCallback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>Pointer to the connection which will be used for sending the file. </td></tr>
    <tr><td class="paramname">fileName</td><td>Constant reference to a string containing name of the file to be sent. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the HTTP message requesting the file, as retrieved by the callback function set via setRequestCallback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">WebServer::Connection</td><td>if no connection has been specified, i.e. the pointer to the connection is <code>nullptr</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#a5427dca40be181ba4015d60aa39f1008" title="Sets callback function for HTTP requests.">setRequestCallback</a> </dd></dl>

<p class="reference">References <a class="el" href="namespacecrawlservpp_1_1Helper_1_1FileSystem.html#ac854729c96d7e5bce8a3993a27624a2d">crawlservpp::Helper::FileSystem::contains()</a>, <a class="el" href="namespacecrawlservpp_1_1Helper_1_1FileSystem.html#ae37adb15062b247096d2f85964a14528">crawlservpp::Helper::FileSystem::getPathSeparator()</a>, and <a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html#afb36c175bc059820a761425d78614948">sendError()</a>.</p>

</div>
</div>
<a id="a85e49d23d493477803d2d3bba14d069b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85e49d23d493477803d2d3bba14d069b">&#9670;&nbsp;</a></span>setAcceptCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void crawlservpp::Main::WebServer::setAcceptCallback </td>
          <td>(</td>
          <td class="paramtype">AcceptCallback&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets callback function for accepted connections. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>A callback function that will be called when a connection got accepted. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="classcrawlservpp_1_1Main_1_1Server.html#adf1826642551e128dec3e3ac2a17d7b5">crawlservpp::Main::Server::Server()</a>.</p>

</div>
</div>
<a id="a1d728ac889e139a41bd6e0daca90aa0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d728ac889e139a41bd6e0daca90aa0d">&#9670;&nbsp;</a></span>setCORS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void crawlservpp::Main::WebServer::setCORS </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>allowed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures cross-origin resource sharing (CORS). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">allowed</td><td>Constant reference to a string containing the origins from which access is allowed via CORS. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="classcrawlservpp_1_1Main_1_1Server.html#adf1826642551e128dec3e3ac2a17d7b5">crawlservpp::Main::Server::Server()</a>.</p>

</div>
</div>
<a id="a5427dca40be181ba4015d60aa39f1008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5427dca40be181ba4015d60aa39f1008">&#9670;&nbsp;</a></span>setRequestCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void crawlservpp::Main::WebServer::setRequestCallback </td>
          <td>(</td>
          <td class="paramtype">RequestCallback&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets callback function for HTTP requests. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>A callback function that will be called when a HTTP request has been received. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="classcrawlservpp_1_1Main_1_1Server.html#adf1826642551e128dec3e3ac2a17d7b5">crawlservpp::Main::Server::Server()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Main/<a class="el" href="WebServer_8hpp_source.html">WebServer.hpp</a></li>
<li>Main/<a class="el" href="WebServer_8cpp.html">WebServer.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecrawlservpp.html">crawlservpp</a></li><li class="navelem"><a class="el" href="namespacecrawlservpp_1_1Main.html">Main</a></li><li class="navelem"><a class="el" href="classcrawlservpp_1_1Main_1_1WebServer.html">WebServer</a></li>
    <li class="footer">Generated on Fri Jul 31 2020 10:43:48 for crawlserv++ by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
